"{ Package: 'stx:clients/Demos' }"

"{ NameSpace: Demos }"

ApplicationModel subclass:#Playground
	instanceVariableNames:''
	classVariableNames:''
	poolDictionaries:''
	category:'demos-Graphics'
!

!Playground class methodsFor:'documentation'!

documentation
"
    not yet finished
"
! !

!Playground class methodsFor:'interface specs'!

windowSpec
    "This resource specification was automatically generated
     by the UIPainter of ST/X."

    "Do not manually edit this!! If it is corrupted,
     the UIPainter may not be able to read the specification."

    "
     UIPainter new openOnClass:Demos::Playground andSelector:#windowSpec
     Demos::Playground new openInterface:#windowSpec
     Demos::Playground open
    "

    <resource: #canvas>

    ^ 
     #(#FullSpec
        #name: #windowSpec
        #window: 
       #(#WindowSpec
          #label: 'Demos::Playground'
          #name: 'Demos::Playground'
          #min: #(#Point 10 10)
          #max: #(#Point 1024 768)
          #bounds: #(#Rectangle 13 23 516 384)
          #menu: #mainMenu
        )
        #component: 
       #(#SpecCollection
          #collection: #(
           #(#VariableHorizontalPanelSpec
              #name: 'VariableHorizontalPanel1'
              #layout: #(#LayoutFrame 0 0.0 0 0.0 0 1.0 0 1.0)
              #snapMode: #both
              #component: 
             #(#SpecCollection
                #collection: #(
                 #(#ArbitraryComponentSpec
                    #name: 'Workspace'
                    #hasBorder: false
                    #component: #Workspace
                  )
                 #(#ArbitraryComponentSpec
                    #name: 'ObjectView'
                    #hasBorder: false
                    #component: #ObjectView
                  )
                 )
               
              )
              #handles: #(#Any 0.481113 1.0)
            )
           )
         
        )
      )
! !

!Playground class methodsFor:'menu specs'!

mainMenu
    "This resource specification was automatically generated
     by the MenuEditor of ST/X."

    "Do not manually edit this!! If it is corrupted,
     the MenuEditor may not be able to read the specification."

    "
     MenuEditor new openOnClass:Demos::Playground andSelector:#mainMenu
     (Menu new fromLiteralArrayEncoding:(Demos::Playground mainMenu)) startUp
    "

    <resource: #menu>

    ^ 
     #(#Menu
        #(
         #(#MenuItem
            #label: 'File'
            #translateLabel: true
            #submenu: 
           #(#Menu
              #(
               #(#MenuItem
                  #label: 'Exit'
                  #translateLabel: true
                  #value: #closeRequest
                )
               )
              nil
              nil
            )
          )
         #(#MenuItem
            #label: 'Help'
            #translateLabel: true
            #startGroup: #right
            #submenu: 
           #(#Menu
              #(
               #(#MenuItem
                  #label: 'Documentation'
                  #translateLabel: true
                  #value: #openDocumentation
                )
               #(#MenuItem
                  #label: '-'
                )
               #(#MenuItem
                  #label: 'About this Application'
                  #translateLabel: true
                  #value: #openAboutThisApplication
                )
               )
              nil
              nil
            )
          )
         )
        nil
        nil
      )
! !

!Playground methodsFor:'menu actions'!

openAboutThisApplication
    "This method was generated by the Browser.
     It will be invoked when the menu-item 'help-about' is selected."

    "/ could open a customized aboutBox here ...
    super openAboutThisApplication
!

openDocumentation
    "This method was generated by the Browser.
     It will be invoked when the menu-item 'help-documentation' is selected."

    "/ change below as required ...

    "/ to open an HTML viewer on some document (under 'doc/online/<language>/' ):
    HTMLDocumentView openFullOnDocumentationFile:'TOP.html'.

    "/ add application-specific help files under the 'doc/online/<language>/help/appName'
    "/ directory, and open a viewer with:
    "/ HTMLDocumentView openFullOnDocumentationFile:'help/<MyApplication>/TOP.html'.
! !

!Playground methodsFor:'startup'!

initialWorkspaceContents
    ^
'
"/ in this workspace, the following 3 variables have already
"/ been declared:
"/
"/     Workspace addWorkspaceVariable:#alfi.
"/     Workspace addWorkspaceVariable:#rudi.
"/     Workspace addWorkspaceVariable:#cindy.
"/
"/ also, self is bound to the view on the right.

"/ adding objects:
alfi  := DrawArrow new origin:10@10 corner:30@30.
rudi  := DrawRectangle new origin:100@10 corner:130@30.
cindy := DrawCircle new origin:100@50 corner:130@80.

self add:alfi.
self add:rudi.
self add:cindy.

rudi fillPattern:Color red.
cindy fillPattern:Color green.
'.
!

postBuildWith:aBuilder         
    |workspace|

    Workspace addWorkspaceVariable:#alfi.
    Workspace addWorkspaceVariable:#rudi.
    Workspace addWorkspaceVariable:#cindy.

    workspace := self componentAt:#Workspace.
    workspace contents:(self initialWorkspaceContents).
    workspace simulatedSelf:(self componentAt:#ObjectView) scrolledView.

    super postBuildWith:aBuilder.
!

release        
    Workspace removeWorkspaceVariable:#alfi.
    Workspace removeWorkspaceVariable:#rudi.
    Workspace removeWorkspaceVariable:#cindy.

    super release.
! !

!Playground class methodsFor:'documentation'!

version
    ^ '$Header: /cvs/stx/stx/clients/Demos/Playground.st,v 1.2 2002-09-04 20:11:10 cg Exp $'
! !
