"/
"/ $Header: /cvs/stx/stx/clients/DrawTool/loadAll,v 1.3 2003-08-04 09:42:24 stefan Exp $
"/
"/ loadAll-file to fileIn code for: stx:clients/DrawTool
"/
"/ Automatically generated from project definition.
"/ DO NOT MODIFY THIS fILE;
"/ modify the .prj file instead, and regenerate this file
"/ with the ProjectBrowser tool.
"/

"/
"/ Prerequisites:
"/
"/ Smalltalk loadPackage:'module:directory'.
"/ Smalltalk loadPackage:'....'.
!

"{ package:'stx:clients/DrawTool' }"!

|files|

'loading package stx:clients/DrawTool ...' infoPrintCR.

files := #(
  'DrawView.st'
  'DrawObject.st'
  'DrawPolygon.st'
  'DrawRectangle.st'
  'DrawLine.st'
  'DrawArrow.st'
  'DrawEllipse.st'
  'DrawCurve.st'
  'DrawGroup.st'
  'DrawHLine.st'
  'DrawImage.st'
  'DrawSpline.st'
  'DrawText.st'
  'DrawTool.st'
  'DrawVLine.st'
  'PatternMenu.st'
  'DrawRectangle3D.st'
  'DrawCircle.st'
  'RectangularDrawObject.st'
  'DrawRoundRectangle.st'
  'LineMenu.st'
) asOrderedCollection.

"/ see if there is a classLibrary
(Smalltalk loadClassLibraryIfAbsent:'libdraw') ifTrue:[
    |handle loaded|

    handle := ObjectFileLoader loadedObjectHandles 
		    detect:[:h | h package = 'stx:clients/DrawTool'] ifNone:nil.
    handle ifNotNil:[
	loaded := Set new:(handle classes size).
	handle classes do:[:c| c isMeta ifFalse:[loaded add:c classFilename]].
	files := files asOrderedCollection select:[:f| (loaded includes:f) not].
    ].
].

"/ load files which are not in the classLibrary (all if there is none)
files size > 0 ifTrue:[
  files do:[:s |
    '.' infoPrint.
    (Smalltalk fileIn:s) ifFalse:[Smalltalk fileIn:(source , '/' , s)].
  ].
  ' ' infoPrintCR.
].
' done (stx:clients/DrawTool).' infoPrintCR.
