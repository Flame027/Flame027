<HTML>

<HEAD>
<TITLE>Smalltalk/X Programmers guide - Java Support - Java-Smalltalk Interoperability</Title>
</HEAD>

<BODY>

<A NOPRINT HREF="java-tools.html">   <IMG SRC="../../icons/DocsLeftArrow.gif" ALT="[prev]"></A>
<A NOPRINT HREF="java.html">   <IMG SRC="../../icons/DocsUpArrow.gif" ALT="[up]"></A>
<A NOPRINT HREF="java-implementation.html">  <IMG SRC="../../icons/DocsRightArrow.gif" ALT="[next]"></A>

<H1>Java Support - Java-Smalltalk Interoperability</H1>

<h2>In a Nutshell</h2>

<p>
  Let's start with simple example - parsing XML file using Xerces, an XML parser written in Java.
</p>

<p>
  Execute following code in the workspace:
</p>

<pre>
  factory := JAVA javax xml parsers SAXParserFactory newInstance.
  parser := factory newSAXParser getXMLReader.
  parser setContentHandler: CDDatabaseHandler1 new.
  [
    parser parse: 'cd.xml'.
  ] on: JAVA java io IOException do:[:ioe|
    Transcript showCR: 'I/O error: ', ioe getMessage.
    ioe printStackTrace
  ]
</pre>

<p>
  This code makes use of Saxon, a xml processing library written in Java.  'cd.xml' contains data we want to process.
</p>

<p>
  On the first line a typical way of accessing Java classes in STX:LIBJAVA can be seen. New instance of <code>SaxParserFactory</code> is created and used to get parser instance. Both these instances are instances of Java classes. Parser has to be given instance of  <code>org.xml.sax.ContentHandler</code>,  which is then used during the parsing. 
</p>

<p>
  In the example, a Smalltalk object is passed in instead. Sax events generated by the Java parser are therefore processed by Smalltalk object. Java code can throw java.io.IOException,  which should be caught. In Smalltalk.
  Java exceptions are using standard Smalltalk exception-handling idioms - using <code>#on:do:</code> or 
  <code>handle:do:</code>/
</p>

<h2>More to be written...</h2>


<HR>
<P>
<IMG NOPRINT ALIGN=middle SRC="../../icons/stx.gif">

<P>
<ADDRESS>
<tt>&lt;<a href="mailto:info@exept.de">info@exept.de</a>&gt;</tt> , <tt>&lt;stxlibjava-dev@googlegroups.com&gt;</tt>
</ADDRESS>

<HR>
CVS: $Id: java-interop.html,v 1.5 2015-03-20 12:08:02 vrany Exp $
</BODY>
</HTML>
